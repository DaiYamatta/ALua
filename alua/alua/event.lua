-----------------------------------------------------------------------------
-- Event
--
-- Module to register and invoke the event handlers.
--
-- version: 1.1 2010/05/30
-----------------------------------------------------------------------------

module("alua.event", package.seeall)

-----------------------------------------------------------------------------
-- Module variables
-----------------------------------------------------------------------------
local events = {}

-----------------------------------------------------------------------------
-- Exported functions
-----------------------------------------------------------------------------

-----------------------------------------------------------------------------
-- Registers a event handler
--
-- @param name The event name
-- @param handler The event handler
-----------------------------------------------------------------------------
function register(name, handler)
    events[name] = handler
end

-----------------------------------------------------------------------------
-- Unregisters a event handler
--
-- @param name The event name
-----------------------------------------------------------------------------
function unregister(name)
    events[name] = nil
end

-----------------------------------------------------------------------------
-- Processes a message (event) and invoke the registered handler
--
-- @param msg The message (event) to process
-----------------------------------------------------------------------------
function process(msg)
    local f = events[msg.type]
    if f then
        f(msg)
    end
end
 
 -----------------------------------------------------------------------------
 -- End exported functions
 -----------------------------------------------------------------------------
 